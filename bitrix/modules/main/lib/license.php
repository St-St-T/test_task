<? namespace Bitrix\Main;$GLOBALS['____905998981']= array(base64_decode('Z'.'mlsZV9leGlz'.'dHM='),base64_decode('c'.'3RydG'.'91c'.'HBlcg=='),base64_decode('bW'.'Q1'),base64_decode('bWQ1'),base64_decode('aW5fYXJy'.'YXk'.'='),base64_decode('a'.'W5f'.'YXJy'.'YXk'.'='),base64_decode(''.'aW'.'5fYXJ'.'yYXk='),base64_decode(''.'ZGV'.'ma'.'W5lZA=='),base64_decode('ZGV'.'maW'.'5lZA'.'=='),base64_decode(''.'Z'.'GVmaW'.'5'.'lZA='.'='),base64_decode('Z'.'mlsZV9leGlzd'.'H'.'M='),base64_decode('ZmlsZV'.'9'.'le'.'Gl'.'zdHM='),base64_decode('ZmlsZV'.'9'.'leGlzdHM='),base64_decode('ZmlsZV9'.'leGlzdHM='),base64_decode(''.'ZX'.'hwbG9'.'kZ'.'Q=='));if(!function_exists(__NAMESPACE__.'\\___397675900')){function ___397675900($_1718198593){static $_1383461088= false; if($_1383461088 == false) $_1383461088=array('L2J'.'pdH'.'JpeC9sa'.'WNl'.'bnNlX2t'.'leS5waH'.'A=','','','R'.'EVNTw==','REVNTw==','QklU'.'Ukl'.'Y','TEl'.'DRU5DRQ==',''.'REVNTw='.'=','L2tle'.'V91'.'cGRhdGUucGhwP2xpY'.'2Vuc2Vfa2V5'.'PQ'.'==','Jn'.'R'.'vYm'.'Fza2V0PXk'.'mbGF'.'u'.'Zz0=',''.'cnU=','a3'.'o=','Y'.'nk=','aHR0cH'.'M6Ly9kZXYuMWMtYml0'.'cml4'.'Ln'.'J'.'1L2xlYXJ'.'u'.'aW5'.'nL2N'.'vdXJz'.'ZS9pbmRleC5'.'waH'.'A'.'/Q09VUlNFX'.'0lEPTEzNSZM'.'RVNTT05'.'fSUQ'.'9MjU3MjA=','aHR0'.'cHM6Ly'.'90c'.'mFpbmluZy'.'5iaXRyaXgyNC5'.'jb20vc'.'3Vwc'.'G9ydC90cmFpbml'.'uZ'.'y9jb3V'.'yc2UvaW5'.'kZXgu'.'cGhwP0N'.'PV'.'VJ'.'TRV'.'9JRD0x'.'Nzgm'.'T'.'EVTU09OX0lEPTI'.'1OTMyJkxFU1'.'NPTl9QQVRIP'.'TE3N'.'TIwL'.'jE3NTYy'.'LjI1OTMwLjI1OTMy','cnU=','Ynk=',''.'a3o=','Z'.'GU=','ZXU'.'=','ZnI=','cGw'.'=','a'.'XQ=','dWs=','ZXU=',''.'Y2'.'9t','ZW4=','RE'.'VNTw='.'=','WQ='.'=','VEl'.'NRU'.'xJTUlUX0V'.'E'.'S'.'V'.'RJT04=',''.'WQ==',''.'R'.'U5DT0RF','WQ==',''.'U2'.'l0ZUV4'.'cGly'.'Z'.'URhdGU=','bWFpb'.'g==','fn'.'N1c'.'HBvcnRfZmluaXN'.'oX2Rhd'.'GU=',''.'WS1t'.'L'.'W'.'Q=','W'.'S1tLW'.'Q=',''.'Yml0'.'cml4Mj'.'Q=','bWFpb'.'g'.'==',''.'fl'.'BBUkFN'.'X0'.'NMSUV'.'O'.'VF9MQU'.'5'.'H',''.'aW50cmFuZXQ=','ZW4=','cnU=','bWFpbg'.'==','dmV'.'u'.'Z'.'G9'.'y',''.'d'.'WFfY'.'ml0cml4X3Bvc'.'nRhbA'.'='.'=',''.'dWE'.'=','Ym'.'l0cml4X3BvcnRhb'.'A='.'=',''.'ZW4=','MW'.'N'.'fY'.'ml'.'0cml4X3Bvc'.'nR'.'hbA'.'='.'=','cn'.'U=','L2JpdHJpe'.'C9t'.'b2R1'.'bGV'.'z'.'L'.'21haW4v'.'bGFuZy91YQ==',''.'dWE=','L2J'.'pdHJpeC9'.'tb2R'.'1bGVzL21haW'.'4vbGFuZy'.'9ieQ='.'=','Ynk=',''.'L2JpdH'.'JpeC'.'9tb2R1bG'.'VzL21h'.'aW4v'.'bGFuZy9reg==',''.'a3o=','L2JpdH'.'JpeC9tb2R'.'1bG'.'VzL2'.'1haW4'.'vb'.'GF'.'uZy'.'9ydQ==','cnU=','bWFpbg'.'==','flBBUkF'.'NX1BB'.'UlROR'.'VJf'.'SUQ=','bWF'.'p'.'bg==','UE'.'FSQU1fTU'.'FYX1'.'VTRVJ'.'T','bWFpbg==','fkN'.'PVU5UX0VY'.'VF'.'JB','Tg'.'==','WQ==','ZX'.'h0'.'cmFuZXQ'.'=','QU5E'.'IFUuTEFT'.'VF9'.'MT'.'0dJTiA+I'.'A==','QU5EIFUu'.'TEF'.'TV'.'F9MT'.'0d'.'JTiBJUyBO'.'T1'.'QgTlV'.'MTA==','aW50'.'cmFuZXQ=','ZXh0cmF'.'uZXQ=','ZX'.'h'.'0cmF'.'uZX'.'R'.'fZ'.'3JvdXA=',''.'bWFp'.'bg'.'='.'=','f'.'mx'.'pY2Vuc2V'.'fbmFtZQ==','b'.'WFp'.'bg==','fm'.'xp'.'Y2Vuc2VfY29kZXM'.'=','',''.'L'.'A'.'==');return base64_decode($_1383461088[$_1718198593]);}}; use Bitrix\Main\Config\Option; use Bitrix\Main\Type\Date; final class License{ private?string $_148743048= null; private const DOMAINS_STORE_LICENSE=[ 'ru' => 'https://util.1c-bitrix.ru', 'ua' => 'https://util.bitrix.ua', 'en' => 'https://util.bitrixsoft.com', 'kz' => 'https://util.1c-bitrix.kz', 'by' => 'https://util.1c-bitrix.by',]; public const URL_BUS_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_bus.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_bus.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_bus.pdf', 'ua' => 'https://www.bitrix.ua/download/law/eula_bus.pdf',]; public const URL_CP_EULA=[ 'ru' => 'https://www.1c-bitrix.ru/download/law/eula_cp.pdf', 'by' => 'https://www.1c-bitrix.by/download/law/eula_cp.pdf', 'kz' => 'https://www.1c-bitrix.kz/download/law/eula_cp.pdf', 'en' => 'https://www.bitrix24.com/eula/', 'br' => 'https://www.bitrix24.com.br/eula/', 'fr' => 'https://www.bitrix24.fr/eula/', 'pl' => 'https://www.bitrix24.pl/eula/', 'it' => 'https://www.bitrix24.it/eula/', 'la' => 'https://www.bitrix24.es/eula/',]; public const URL_RENEWAL_LICENSE=[ 'com' => 'https://store.bitrix24.com/profile/license-keys.php', 'eu' => 'https://store.bitrix24.eu/profile/license-keys.php', 'de' => 'https://store.bitrix24.de/profile/license-keys.php', 'ru' => 'https://www.1c-bitrix.ru/buy/products/b24.php#tab-section-2', 'by' => 'https://www.1c-bitrix.by/buy/products/b24.php#tab-section-2', 'kz' => 'https://www.1c-bitrix.kz/buy/products/b24.php#tab-section-2',]; public function getKey(): string{ if($this->_148743048 === null){ $_1171262291= Loader::getDocumentRoot(). ___397675900(0); $LICENSE_KEY= ___397675900(1); if($GLOBALS['____905998981'][0]($_1171262291)){ include($_1171262291);} $this->_148743048=($LICENSE_KEY == ___397675900(2) || $GLOBALS['____905998981'][1]($LICENSE_KEY) == ___397675900(3)? ___397675900(4): $LICENSE_KEY);} return $this->_148743048;} public function getHashLicenseKey(): string{ return $GLOBALS['____905998981'][2]($this->getKey());} public function getPublicHashKey(): string{ return $GLOBALS['____905998981'][3](___397675900(5). $this->getKey(). ___397675900(6));} public function isDemoKey(): bool{ return $this->getKey() == ___397675900(7);} public function getBuyLink(): string{ return $this->getDomainStoreLicense(). ___397675900(8). $this->getHashLicenseKey(). ___397675900(9). LANGUAGE_ID;} public function getDocumentationLink(): string{ $_471623770= $this->getRegion(); if($GLOBALS['____905998981'][4]($_471623770,[___397675900(10), ___397675900(11), ___397675900(12)])){ return ___397675900(13);} return ___397675900(14);} public function getRenewalLink(): string{ $_471623770= $this->getRegion(); if($GLOBALS['____905998981'][5]($_471623770,[___397675900(15), ___397675900(16), ___397675900(17), ___397675900(18)])){ return self::URL_RENEWAL_LICENSE[$_471623770];} if($GLOBALS['____905998981'][6]($_471623770,[___397675900(19), ___397675900(20), ___397675900(21), ___397675900(22), ___397675900(23)])){ return self::URL_RENEWAL_LICENSE[___397675900(24)];} return self::URL_RENEWAL_LICENSE[___397675900(25)];} public function getDomainStoreLicense(): string{ return self::DOMAINS_STORE_LICENSE[$this->getRegion()] ?? self::DOMAINS_STORE_LICENSE[___397675900(26)];} public function isDemo(): bool{ return $GLOBALS['____905998981'][7](___397675900(27)) && DEMO === ___397675900(28);} public function isTimeBound(): bool{ return $GLOBALS['____905998981'][8](___397675900(29)) && TIMELIMIT_EDITION === ___397675900(30);} public function isEncoded(): bool{ return $GLOBALS['____905998981'][9](___397675900(31)) && ENCODE === ___397675900(32);} public function getExpireDate():?Date{ $_1326459866= (int)($GLOBALS[___397675900(33)] ??(160*2-320)); if($_1326459866>(127*2-254)){ return Date::createFromTimestamp($_1326459866);} return null;} public function getSupportExpireDate():?Date{ $_1326459866= Option::get(___397675900(34), ___397675900(35)); if(Date::isCorrect($_1326459866, ___397675900(36))){ return new Date($_1326459866, ___397675900(37));} return null;} public function getRegion():?string{ if(Loader::includeModule(___397675900(38))){ return \CBitrix24::getPortalZone();} $_471623770= Option::get(___397675900(39), ___397675900(40)); if(!empty($_471623770)){ return $_471623770;} $_471623770= $this->__71433000(); if(!empty($_471623770)){ return $_471623770;} return $this->__1445606450();} public function getEulaLink(): string{ if(ModuleManager::isModuleInstalled(___397675900(41))){ return self::URL_CP_EULA[$this->getRegion()] ?? self::URL_CP_EULA[___397675900(42)];} return self::URL_BUS_EULA[$this->getRegion()] ?? self::URL_BUS_EULA[___397675900(43)];} private function __71433000():?string{ $_1099716626= Option::get(___397675900(44), ___397675900(45)); if($_1099716626 === ___397675900(46)){ return ___397675900(47);} if($_1099716626 === ___397675900(48)){ return ___397675900(49);} if($_1099716626 === ___397675900(50)){ return ___397675900(51);} return null;} private function __1445606450():?string{ $_585366413= Application::getDocumentRoot(); if($GLOBALS['____905998981'][10]($_585366413. ___397675900(52))){ return ___397675900(53);} if($GLOBALS['____905998981'][11]($_585366413. ___397675900(54))){ return ___397675900(55);} if($GLOBALS['____905998981'][12]($_585366413. ___397675900(56))){ return ___397675900(57);} if($GLOBALS['____905998981'][13]($_585366413. ___397675900(58))){ return ___397675900(59);} return null;} public function getPartnerId(): int{ return (int)Option::get(___397675900(60), ___397675900(61),(946-2*473));} public function getMaxUsers(): int{ return (int)Option::get(___397675900(62), ___397675900(63),(992-2*496));} public function isExtraCountable(): bool{ return Option::get(___397675900(64), ___397675900(65), ___397675900(66)) === ___397675900(67) && ModuleManager::isModuleInstalled(___397675900(68));} public function getActiveUsersCount(Date $_1610156075= null): int{ $_1995707312= Application::getConnection(); $_1999469727= min(132,0,44); if($_1610156075 !== null){  $_1337289533= ___397675900(69).$_1995707312->getSqlHelper()->convertToDbDate($_1610156075);} else{  $_1337289533= ___397675900(70);} if(ModuleManager::isModuleInstalled(___397675900(71))){ $_1509569421="
				SELECT COUNT(DISTINCT U.ID)
				FROM
					b_user U
					INNER JOIN b_user_field F ON F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
					INNER JOIN b_utm_user UF ON
						UF.FIELD_ID = F.ID
						AND UF.VALUE_ID = U.ID
						AND UF.VALUE_INT > 0
				WHERE U.ACTIVE = 'Y'
					{$_1337289533}
			"; $_1999469727= (int)$_1995707312->queryScalar($_1509569421); $_724706679= (int)Option::get(___397675900(72), ___397675900(73)); if($_724706679> min(42,0,14) && $this->isExtraCountable()){ $_1509569421="
						SELECT COUNT(1)
						FROM
							b_user U
							INNER JOIN b_extranet_user EU ON EU.USER_ID = U.ID AND EU.CHARGEABLE = 'Y'
							INNER JOIN b_user_group UG ON UG.USER_ID = U.ID AND UG.GROUP_ID = {$_724706679}
							LEFT JOIN (
								SELECT UF.VALUE_ID 
								FROM 
									b_user_field F
									INNER JOIN b_utm_user UF ON UF.FIELD_ID = F.ID AND UF.VALUE_INT > 0
								WHERE F.ENTITY_ID = 'USER' AND F.FIELD_NAME = 'UF_DEPARTMENT'
							) D ON D.VALUE_ID = U.ID
						WHERE U.ACTIVE = 'Y'
							{$_1337289533}
							AND D.VALUE_ID IS NULL
					"; $_1999469727 += (int)$_1995707312->queryScalar($_1509569421);}} return $_1999469727;}  public function getName(): string{ return Option::get(___397675900(74), ___397675900(75));}  public function getCodes(): array{ $_151149809= Option::get(___397675900(76), ___397675900(77)); if($_151149809 != ___397675900(78)){ return $GLOBALS['____905998981'][14](___397675900(79), $_151149809);} return[];}}?>